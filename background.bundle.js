chrome.runtime.onInstalled.addListener((function(e){"install"==e.reason||e.reason,chrome.tabs.query({url:"https://web.whatsapp.com/*"},(function(e){e.length>0?chrome.tabs.reload(e[0].id):chrome.tabs.create({url:"https://web.whatsapp.com",active:!0})}))})),chrome.action.onClicked.addListener((function(e){chrome.tabs.query({url:"https://web.whatsapp.com/*",currentWindow:!0},(function(e){e.length>0?chrome.tabs.update(e[0].id,{highlighted:!0,selected:!0}):chrome.tabs.create({url:"https://web.whatsapp.com"})}))})),chrome.runtime.onMessage.addListener((function(e,t,n){return"SET_UNINSTALL_URL"==e.subject?(chrome.runtime.setUninstallURL(e.url),n({})):"SEND_RICH_NOTIFICATION"==e.subject&&(chrome.notifications.create(`${e.notificationId}$@$notification${Date.now()}`,{type:"basic",iconUrl:"icon-128.png",title:e.title,message:e.message}),n({})),!0})),chrome.notifications.onClicked.addListener((function(e){chrome.tabs.query({url:"https://web.whatsapp.com/*"},(function(t){t.length>0?(chrome.tabs.update(t[0].id,{selected:!0}),chrome.tabs.sendMessage(t[0].id,{subject:"ON_CLICK_RICH_NOTIFICATION",notifId:e},(function(){}))):chrome.tabs.create({url:"https://web.whatsapp.com",active:!0})}))}));